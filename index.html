<!doctype html>
<html>
  <head>
    <title>Specific Heat Calculator</title>
    <meta charset='utf-8'>
    <script async defer src='https://buttons.github.io/buttons.js'></script>
  </head>
  <body>
    <h1>Specific Heat Calculator</h1>
    <p>Assumes mass of water is 150g and intial temp of sample is 100&deg;C.</p><br>
    <h3>Input</h3>
    <form>
      <label for='smass'>Sample mass (g): </label>
      <input type='number' class='smass'><br>
      <label for='tinitial'>Initial temp of water (&deg;C): </label>
      <input type='number' class='tinitial'><br>
      <label for='tfinal'>Final temp (&deg;C): </label>
      <input type='number' class='tfinal'><br>
      <button class='submit'>Calculate</button>
    </form>
    
    <h3>Results</h3>
    <form>
      <label for='hgain'>Heat gained by H<sub>2</sub>O (J): </label>
      <input class='noclick hgain'><br>
      <label for='hloss'>Heat lost by sample (J): </label>
      <input class='noclick hloss'><br>
      <label for='specheat'>Specific heat: </label>
      <input class='noclick specheat'><br>
    </form>
    
    <script>
       //get values
        var smass = document.querySelector('.smass').value;
        var tinitial = document.querySelector('.tinitial').value;
        var tfinal = document.querySelector('.tfinal').value;
        
        //get locations
        var hgain = document.querySelector('.hgain');
        var hloss = document.querySelector('.hloss');
        var specheat = document.querySelector('.specheat');
        
      function update() {
        //math :(
        var qh20 = 150 * 4.2 * (tfinal - tinitial);
        var qsm = -qh20;
        
        var smheat = qh20 / (smass * (100 - tfinal))
        
        //spit it out
        hgain.value = Math.round((qh20 + 0.00001) * 1000) / 1000;
        hloss.value = Math.round((qsm + 0.00001) * 1000) / 1000;
        specheat.value = Math.round((smheat + 0.00001) * 1000) / 1000;
      }
      
      //change on button
      document.querySelector('.submit').onclick = function() {update();}
    </script>
      
    <a class='github-button' href='https://github.com/bustinbung/specific-heat-calculator' data-icon='octicon-eye' aria-label='View bustinbung/specific-heat-calculator on GitHub'>View</a>
  </body>
</html>
